import{_ as g}from"./ContentWrap.vue_vue_type_script_setup_true_lang-CuK79ptc.js";import{_ as u}from"./Button.vue_vue_type_script_setup_true_lang-COt6HsEg.js";import{u as k}from"./index-fPquPYKy.js";import{y as x,c as v,S as w,z as C,K as _,L as m,O as c,u as r,a4 as p}from"./vue-chunks-CaTGQ7j2.js";/* empty css                */import"./el-tooltip-l0sNRNKZ.js";import"./element-plus-BuBGixiZ.js";const E=Symbol("watermark-dom");function S(d=document.body){let i=()=>{};const a=E.toString(),s=()=>{const t=document.getElementById(a);if(t){const e=d;e&&e.removeChild(t)}window.removeEventListener("resize",i)},l=t=>{s();const e=document.createElement("canvas");e.width=300,e.height=240;const o=e.getContext("2d");o&&(o.rotate(-20*Math.PI/120),o.font="15px Vedana",o.fillStyle="rgba(0, 0, 0, 0.15)",o.textAlign="left",o.textBaseline="middle",o.fillText(t,e.width/20,e.height));const n=document.createElement("div");n.id=a,n.style.pointerEvents="none",n.style.top="0px",n.style.left="0px",n.style.position="absolute",n.style.zIndex="100000000",n.style.width=document.documentElement.clientWidth+"px",n.style.height=document.documentElement.clientHeight+"px",n.style.background="url("+e.toDataURL("image/png")+") left top repeat";const y=d;return y&&y.appendChild(n),a};function f(t){l(t),i=()=>{l(t)},window.addEventListener("resize",i)}return{setWatermark:f,clear:s}}const L=x({__name:"useWatermark",setup(d){const i=k(),a=v(()=>i.getTitle),{setWatermark:s,clear:l}=S();return w(()=>{l()}),(f,t)=>(C(),_(r(g),{title:"useWatermark"},{default:m(()=>[c(r(u),{type:"primary",onClick:t[0]||(t[0]=e=>r(s)(a.value))},{default:m(()=>t[2]||(t[2]=[p(" 创建水印 ")])),_:1}),c(r(u),{type:"danger",onClick:r(l)},{default:m(()=>t[3]||(t[3]=[p("清除水印")])),_:1},8,["onClick"]),c(r(u),{type:"warning",onClick:t[1]||(t[1]=e=>r(s)(`New${a.value}`))},{default:m(()=>t[4]||(t[4]=[p(" 重置水印 ")])),_:1})]),_:1}))}});export{L as default};
