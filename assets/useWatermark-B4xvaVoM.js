import{_ as g}from"./ContentWrap.vue_vue_type_script_setup_true_lang-BIk8CvRz.js";import{_ as u}from"./Button.vue_vue_type_script_setup_true_lang-BgXjl-CP.js";import{u as k}from"./index-csGtnT1a.js";import{y as x,c as v,S as w,z as C,K as _,L as m,O as p,u as r,a4 as c}from"./vue-chunks-DjkM_pWB.js";import"./Icon-DIXPgZOm.js";import"./element-plus-ByljZuZM.js";/* empty css                *//* empty css                  */const E=Symbol("watermark-dom");function S(d=document.body){let i=()=>{};const a=E.toString(),s=()=>{const t=document.getElementById(a);if(t){const e=d;e&&e.removeChild(t)}window.removeEventListener("resize",i)},l=t=>{s();const e=document.createElement("canvas");e.width=300,e.height=240;const o=e.getContext("2d");o&&(o.rotate(-20*Math.PI/120),o.font="15px Vedana",o.fillStyle="rgba(0, 0, 0, 0.15)",o.textAlign="left",o.textBaseline="middle",o.fillText(t,e.width/20,e.height));const n=document.createElement("div");n.id=a,n.style.pointerEvents="none",n.style.top="0px",n.style.left="0px",n.style.position="absolute",n.style.zIndex="100000000",n.style.width=document.documentElement.clientWidth+"px",n.style.height=document.documentElement.clientHeight+"px",n.style.background="url("+e.toDataURL("image/png")+") left top repeat";const y=d;return y&&y.appendChild(n),a};function f(t){l(t),i=()=>{l(t)},window.addEventListener("resize",i)}return{setWatermark:f,clear:s}}const N=x({__name:"useWatermark",setup(d){const i=k(),a=v(()=>i.getTitle),{setWatermark:s,clear:l}=S();return w(()=>{l()}),(f,t)=>(C(),_(r(g),{title:"useWatermark"},{default:m(()=>[p(r(u),{type:"primary",onClick:t[0]||(t[0]=e=>r(s)(a.value))},{default:m(()=>t[2]||(t[2]=[c(" 创建水印 ")])),_:1}),p(r(u),{type:"danger",onClick:r(l)},{default:m(()=>t[3]||(t[3]=[c("清除水印")])),_:1},8,["onClick"]),p(r(u),{type:"warning",onClick:t[1]||(t[1]=e=>r(s)(`New${a.value}`))},{default:m(()=>t[4]||(t[4]=[c(" 重置水印 ")])),_:1})]),_:1}))}});export{N as default};
