var p=(n,r,u)=>new Promise((C,g)=>{var D=i=>{try{w(u.next(i))}catch(k){g(k)}},y=i=>{try{w(u.throw(i))}catch(k){g(k)}},w=i=>i.done?C(i.value):Promise.resolve(i.value).then(D,y);w((u=u.apply(n,r)).next())});import{I as z}from"./Icon-zoEhMSPp.js";import{_ as L}from"./avatar-CIGAabYz.js";import{p as M,m as _,n as h,k as c,q as B,l as x,r as O,s as P}from"./element-plus-ByljZuZM.js";import{r as A,f as W}from"./index-K_0bZCaB.js";/* empty css               *//* empty css                         *//* empty css                *//* empty css                   *//* empty css                */import{_ as I}from"./CountTo.vue_vue_type_script_setup_true_lang-CuXJk0oR.js";import{r as Y,_ as F}from"./Echart.vue_vue_type_script_setup_true_lang-DiCBmgZy.js";import"./echarts-DNv_PrpY.js";import{_ as G}from"./Highlight.vue_vue_type_script_lang-DUFlAt00.js";import{y as K,r as Q,W as b,z as m,A as v,D as l,O as e,L as a,u as t,a4 as j,I as $,a3 as E,K as R,Q as f}from"./vue-chunks-DjkM_pWB.js";const H={justNow:"刚刚",invalid:"无效时间",past:n=>n.match(/\d/)?`${n}前`:n,future:n=>n.match(/\d/)?`${n}后`:n,month:(n,r)=>n===1?r?"上个月":"下个月":`${n} 个月`,year:(n,r)=>n===1?r?"去年":"明年":`${n} 年`,day:(n,r)=>n===1?r?"昨天":"明天":`${n} 天`,week:(n,r)=>n===1?r?"上周":"下周":`${n} 周`,hour:n=>`${n} 小时`,minute:n=>`${n} 分钟`,second:n=>`${n} 秒`},J=n=>M(n,{messages:H}),U=()=>A.get({url:"/mock/workplace/total"}),X=()=>A.get({url:"/mock/workplace/project"}),Z=()=>A.get({url:"/mock/workplace/dynamic"}),tt=()=>A.get({url:"/mock/workplace/team"}),et=()=>A.get({url:"/mock/workplace/radar"}),at={class:"flex h-70px items-center justify-end lt-sm:mt-20px"},st={class:"px-8px text-right"},lt={class:"px-8px text-right"},nt={class:"px-8px text-right"},rt={class:"flex justify-between"},ot={class:"flex items-center"},dt={class:"text-16px"},it={class:"mt-15px text-14px text-gray-400"},ut={class:"mt-20px text-12px text-gray-400 flex justify-between"},mt={class:"flex justify-between"},pt={class:"flex items-center"},ct={class:"text-14px"},xt={class:"mt-15px text-12px text-gray-400"},ft={class:"flex items-center"},St=K({__name:"Workplace",setup(n){const r=Q(!0);let u=b({project:0,access:0,todo:0});const C=()=>p(this,null,function*(){const o=yield U().catch(()=>{});o&&(u=Object.assign(u,o.data))});let g=b([]);const D=()=>p(this,null,function*(){const o=yield X().catch(()=>{});o&&(g=Object.assign(g,o.data))});let y=b([]);const w=()=>p(this,null,function*(){const o=yield Z().catch(()=>{});o&&(y=Object.assign(y,o.data))});let i=b([]);const k=()=>p(this,null,function*(){const o=yield tt().catch(()=>{});o&&(i=Object.assign(i,o.data))}),T=b(Y),V=()=>p(this,null,function*(){const o=yield et().catch(()=>{});o&&(P(T,"radar.indicator",o.data.map(s=>({name:s.name,max:s.max}))),P(T,"series",[{name:"xxx指数",type:"radar",data:[{value:o.data.map(s=>s.personal),name:"个人"},{value:o.data.map(s=>s.team),name:"团队"}]}]))});return p(this,null,function*(){yield Promise.all([C(),D(),w(),k(),V()]),r.value=!1}),(o,s)=>{const N=z;return m(),v($,null,[l("div",null,[e(t(x),{shadow:"never"},{default:a(()=>[e(t(_),{loading:r.value,animated:""},{default:a(()=>[e(t(h),{gutter:20,justify:"space-between"},{default:a(()=>[e(t(c),{xl:12,lg:12,md:12,sm:24,xs:24},{default:a(()=>s[0]||(s[0]=[l("div",{class:"flex items-center"},[l("img",{src:L,alt:"",class:"w-70px h-70px rounded-[50%] mr-20px"}),l("div",null,[l("div",{class:"text-20px"},"早安，ShanYi，祝你开心每一天!"),l("div",{class:"mt-10px text-14px text-gray-500"},"今日晴，20℃ - 32℃！")])],-1)])),_:1}),e(t(c),{xl:12,lg:12,md:12,sm:24,xs:24},{default:a(()=>[l("div",at,[l("div",st,[s[1]||(s[1]=l("div",{class:"text-14px text-gray-400 mb-20px"},"项目数",-1)),e(t(I),{class:"text-20px","start-val":0,"end-val":t(u).project,duration:2600},null,8,["end-val"])]),e(t(B),{direction:"vertical"}),l("div",lt,[s[2]||(s[2]=l("div",{class:"text-14px text-gray-400 mb-20px"},"待办",-1)),e(t(I),{class:"text-20px","start-val":0,"end-val":t(u).todo,duration:2600},null,8,["end-val"])]),e(t(B),{direction:"vertical","border-style":"dashed"}),l("div",nt,[s[3]||(s[3]=l("div",{class:"text-14px text-gray-400 mb-20px"},"项目访问",-1)),e(t(I),{class:"text-20px","start-val":0,"end-val":t(u).access,duration:2600},null,8,["end-val"])])])]),_:1})]),_:1})]),_:1},8,["loading"])]),_:1})]),e(t(h),{class:"mt-20px",gutter:20,justify:"space-between"},{default:a(()=>[e(t(c),{xl:16,lg:16,md:24,sm:24,xs:24,class:"mb-20px"},{default:a(()=>[e(t(x),{shadow:"never"},{header:a(()=>[l("div",rt,[s[5]||(s[5]=l("span",null,"项目数",-1)),e(t(O),{type:"primary",underline:!1},{default:a(()=>s[4]||(s[4]=[j("更多")])),_:1})])]),default:a(()=>[e(t(_),{loading:r.value,animated:""},{default:a(()=>[e(t(h),null,{default:a(()=>[(m(!0),v($,null,E(t(g),(d,S)=>(m(),R(t(c),{key:`card-${S}`,xl:8,lg:8,md:12,sm:24,xs:24},{default:a(()=>[e(t(x),{shadow:"hover"},{default:a(()=>[l("div",ot,[e(N,{icon:d.icon,size:25,class:"mr-10px"},null,8,["icon"]),l("span",dt,f(d.name),1)]),l("div",it,f(d.message),1),l("div",ut,[l("span",null,f(d.personal),1),l("span",null,f(t(W)(d.time,"yyyy-MM-dd")),1)])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1},8,["loading"])]),_:1}),e(t(x),{shadow:"never",class:"mt-20px"},{header:a(()=>[l("div",mt,[s[7]||(s[7]=l("span",null,"动态",-1)),e(t(O),{type:"primary",underline:!1},{default:a(()=>s[6]||(s[6]=[j("更多")])),_:1})])]),default:a(()=>[e(t(_),{loading:r.value,animated:""},{default:a(()=>[(m(!0),v($,null,E(t(y),(d,S)=>(m(),v("div",{key:`dynamics-${S}`},[l("div",pt,[s[9]||(s[9]=l("img",{src:L,alt:"",class:"w-35px h-35px rounded-[50%] mr-20px"},null,-1)),l("div",null,[l("div",ct,[e(t(G),{keys:d.keys.map(q=>q)},{default:a(()=>s[8]||(s[8]=[j(" ShanYi 推送 代码到 Github ")])),_:2},1032,["keys"])]),l("div",xt,f(t(J)(d.time)),1)])]),e(t(B))]))),128))]),_:1},8,["loading"])]),_:1})]),_:1}),e(t(c),{xl:8,lg:8,md:24,sm:24,xs:24,class:"mb-20px"},{default:a(()=>[e(t(x),{shadow:"never"},{header:a(()=>s[10]||(s[10]=[l("span",null,"快捷操作",-1)])),default:a(()=>[e(t(_),{loading:r.value,animated:""},{default:a(()=>[e(t(h),null,{default:a(()=>[(m(),v($,null,E(9,d=>e(t(c),{key:`card-${d}`,xl:12,lg:12,md:12,sm:24,xs:24,class:"mb-10px"},{default:a(()=>[e(t(O),{type:"default",underline:!1},{default:a(()=>[j(" 操作"+f(d),1)]),_:2},1024)]),_:2},1024)),64))]),_:1})]),_:1},8,["loading"])]),_:1}),e(t(x),{shadow:"never",class:"mt-20px"},{header:a(()=>s[11]||(s[11]=[l("span",null,"xx指数",-1)])),default:a(()=>[e(t(_),{loading:r.value,animated:""},{default:a(()=>[e(t(F),{options:T,height:400},null,8,["options"])]),_:1},8,["loading"])]),_:1}),e(t(x),{shadow:"never",class:"mt-20px"},{header:a(()=>s[12]||(s[12]=[l("span",null,"团队",-1)])),default:a(()=>[e(t(_),{loading:r.value,animated:""},{default:a(()=>[e(t(h),null,{default:a(()=>[(m(!0),v($,null,E(t(i),d=>(m(),R(t(c),{key:`team-${d.name}`,span:12,class:"mb-20px"},{default:a(()=>[l("div",ft,[e(N,{icon:d.icon,class:"mr-10px"},null,8,["icon"]),e(t(O),{type:"default",underline:!1},{default:a(()=>[j(f(d.name),1)]),_:2},1024)])]),_:2},1024))),128))]),_:1})]),_:1},8,["loading"])]),_:1})]),_:1})]),_:1})],64)}}});export{St as default};
