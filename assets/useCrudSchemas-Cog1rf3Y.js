var S=Object.defineProperty,b=Object.defineProperties;var p=Object.getOwnPropertyDescriptors;var f=Object.getOwnPropertySymbols;var u=Object.prototype.hasOwnProperty,m=Object.prototype.propertyIsEnumerable;var h=(l,t,e)=>t in l?S(l,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):l[t]=e,a=(l,t)=>{for(var e in t||(t={}))u.call(t,e)&&h(l,e,t[e]);if(f)for(var e of f(t))m.call(t,e)&&h(l,e,t[e]);return l},s=(l,t)=>b(l,p(t));import{t as C,f as g,e as v}from"./tree-V8lrdewf.js";import{W as T}from"./vue-chunks-DjkM_pWB.js";const q=l=>{const t=T({searchSchema:[],tableColumns:[],formSchema:[],detailSchema:[]}),e=x(l);t.searchSchema=e||[];const n=D(l);t.tableColumns=n||[];const i=F(l);t.formSchema=i;const o=M(l);return t.detailSchema=o,{allSchemas:t}},x=l=>{var n,i,o;const t=[],e=l.length;for(let r=0;r<e;r++){const c=l[r];if(((n=c.search)==null?void 0:n.hidden)===!0)continue;const d=s(a({component:((i=c==null?void 0:c.search)==null?void 0:i.component)||"Input"},c.search),{field:c.field,label:((o=c.search)==null?void 0:o.label)||c.label});t.push(d)}return t},D=l=>{const t=C(l,{conversion:e=>{var n;if(!((n=e==null?void 0:e.table)!=null&&n.hidden))return a(a({},e),e.table)}});return g(t,e=>(e.children===void 0&&delete e.children,!!e.field))},F=l=>{var n,i;const t=[],e=l.length;for(let o=0;o<e;o++){const r=l[o],c=s(a({component:((n=r==null?void 0:r.form)==null?void 0:n.component)||"Input"},r.form),{field:r.field,label:((i=r.form)==null?void 0:i.label)||r.label});t.push(c)}return t},M=l=>{const t=[];return v(l,e=>{var n,i;if(!((n=e==null?void 0:e.detail)!=null&&n.hidden)){const o=s(a({},e.detail),{field:e.field,label:((i=e.detail)==null?void 0:i.label)||e.label});delete o.hidden,t.push(o)}}),t};export{q as u};
