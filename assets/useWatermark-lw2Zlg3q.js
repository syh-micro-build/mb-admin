import{_ as g}from"./ContentWrap.vue_vue_type_script_setup_true_lang-C-Nt72zD.js";import{_ as c}from"./Button.vue_vue_type_script_setup_true_lang-xQohR7RO.js";import{u as k}from"./index-UC-vmT_-.js";import{q as x,d as _,C as h,t as v,S as w,R as m,O as u,u as a,V as p}from"./vue-chunks-CrLAACUV.js";import"./Icon-Op2YIgVw.js";import"./element-plus-Dmwbteg1.js";/* empty css                *//* empty css                  */const C=Symbol("watermark-dom");function E(d=document.body){let i=()=>{};const r=C.toString(),s=()=>{const e=document.getElementById(r);if(e){const t=d;t&&t.removeChild(e)}window.removeEventListener("resize",i)},l=e=>{s();const t=document.createElement("canvas");t.width=300,t.height=240;const o=t.getContext("2d");o&&(o.rotate(-20*Math.PI/120),o.font="15px Vedana",o.fillStyle="rgba(0, 0, 0, 0.15)",o.textAlign="left",o.textBaseline="middle",o.fillText(e,t.width/20,t.height));const n=document.createElement("div");n.id=r,n.style.pointerEvents="none",n.style.top="0px",n.style.left="0px",n.style.position="absolute",n.style.zIndex="100000000",n.style.width=document.documentElement.clientWidth+"px",n.style.height=document.documentElement.clientHeight+"px",n.style.background="url("+t.toDataURL("image/png")+") left top repeat";const y=d;return y&&y.appendChild(n),r};function f(e){l(e),i=()=>{l(e)},window.addEventListener("resize",i)}return{setWatermark:f,clear:s}}const L=x({__name:"useWatermark",setup(d){const i=k(),r=_(()=>i.getTitle),{setWatermark:s,clear:l}=E();return h(()=>{l()}),(f,e)=>(v(),w(a(g),{title:"useWatermark"},{default:m(()=>[u(a(c),{type:"primary",onClick:e[0]||(e[0]=t=>a(s)(r.value))},{default:m(()=>[p(" 创建水印 ")]),_:1}),u(a(c),{type:"danger",onClick:a(l)},{default:m(()=>[p("清除水印")]),_:1},8,["onClick"]),u(a(c),{type:"warning",onClick:e[1]||(e[1]=t=>a(s)(`New${r.value}`))},{default:m(()=>[p(" 重置水印 ")]),_:1})]),_:1}))}});export{L as default};
