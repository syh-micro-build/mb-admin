var q=(k,e,o)=>new Promise((f,i)=>{var m=u=>{try{d(o.next(u))}catch(p){i(p)}},y=u=>{try{d(o.throw(u))}catch(p){i(p)}},d=u=>u.done?f(u.value):Promise.resolve(u.value).then(m,y);d((o=o.apply(k,e)).next())});import{_ as A}from"./ContentWrap.vue_vue_type_script_setup_true_lang-BidzzOCd.js";import{_ as c}from"./Button.vue_vue_type_script_setup_true_lang-BU022YUF.js";import{r}from"./index-jZhhGvhC.js";/* empty css                   */import{q as B}from"./element-plus-6v3c1uXT.js";import{q as E,r as N,t as S,T,S as a,x as V,X as D,P as l,u as s,W as n}from"./vue-chunks-DOWhatC1.js";import"./Icon-2VcbHENA.js";/* empty css                *//* empty css                  */const $=()=>r.get({url:"/mock/request/1"}),P=()=>r.get({url:"/mock/request/2"}),W=()=>r.get({url:"/mock/request/3"}),X=()=>r.get({url:"/mock/request/4"}),b=()=>r.get({url:"/mock/request/5"}),j=()=>r.get({url:"/mock/request/expired"}),Q=E({__name:"Request",setup(k){const e=N(new Set),o=()=>q(this,null,function*(){if(!e.value.has("/request/1"))try{e.value.add("/request/1");const t=yield $()}catch(t){}finally{e.value.delete("/request/1")}}),f=()=>q(this,null,function*(){if(!e.value.has("/request/2"))try{e.value.add("/request/2");const t=yield P()}catch(t){}finally{e.value.delete("/request/2")}}),i=()=>q(this,null,function*(){if(!e.value.has("/request/3"))try{e.value.add("/request/3");const t=yield W()}catch(t){}finally{e.value.delete("/request/3")}}),m=()=>q(this,null,function*(){if(!e.value.has("/request/4"))try{e.value.add("/request/4");const t=yield X()}catch(t){}finally{e.value.delete("/request/4")}}),y=()=>q(this,null,function*(){if(!e.value.has("/request/5"))try{e.value.add("/request/5");const t=yield b()}catch(t){}finally{e.value.delete("/request/5")}}),d=()=>{o(),f(),i(),m(),y()},u=()=>{r.cancelAllRequest(),e.value.clear()},p=t=>{const v=[];return t.forEach(w=>{v.push(w)}),v},_=()=>{if(e.value.has("/request/1")){r.cancelRequest("/request/1"),e.value.delete("/request/1");return}o()},g=()=>{if(e.value.has("/request/2")){r.cancelRequest("/request/2"),e.value.delete("/request/2");return}f()},h=()=>{if(e.value.has("/request/3")){r.cancelRequest("/request/3"),e.value.delete("/request/3");return}i()},R=()=>{if(e.value.has("/request/4")){r.cancelRequest("/request/4"),e.value.delete("/request/4");return}m()},C=()=>{if(e.value.has("/request/5")){r.cancelRequest("/request/5"),e.value.delete("/request/5");return}y()},x=()=>{j()};return(t,v)=>(S(),T(s(A),{title:"请求"},{default:a(()=>[V("p",null,"正在请求的接口："+D(p(e.value)),1),l(s(c),{type:"primary",onClick:_},{default:a(()=>[n("请求/取消request1")]),_:1}),l(s(c),{type:"primary",onClick:g},{default:a(()=>[n("请求/取消request2")]),_:1}),l(s(c),{type:"primary",onClick:h},{default:a(()=>[n("请求/取消request3")]),_:1}),l(s(c),{type:"primary",onClick:R},{default:a(()=>[n("请求/取消request4")]),_:1}),l(s(c),{type:"primary",onClick:C},{default:a(()=>[n("请求/取消request5")]),_:1}),l(s(c),{type:"primary",onClick:d},{default:a(()=>[n("发送五个请求")]),_:1}),l(s(c),{type:"primary",onClick:u},{default:a(()=>[n("关闭所有请求")]),_:1}),l(s(B)),l(s(c),{type:"primary",onClick:x},{default:a(()=>[n("token过期")]),_:1})]),_:1}))}});export{Q as default};
