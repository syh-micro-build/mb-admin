var i=(k,e,q)=>new Promise((y,d)=>{var m=a=>{try{p(q.next(a))}catch(f){d(f)}},v=a=>{try{p(q.throw(a))}catch(f){d(f)}},p=a=>a.done?y(a.value):Promise.resolve(a.value).then(m,v);p((q=q.apply(k,e)).next())});import{_ as h}from"./ContentWrap.vue_vue_type_script_setup_true_lang-C_qLaMYt.js";import{_ as o}from"./Button.vue_vue_type_script_setup_true_lang-CtLdHZUG.js";import{r as s}from"./index-DHl_J6jw.js";/* empty css                   */import{q as B}from"./element-plus-ByljZuZM.js";import{y as D,r as E,z as N,K as V,L as l,D as S,Q as T,O as n,u,a4 as c}from"./vue-chunks-DjkM_pWB.js";import"./Icon-9_21TXKn.js";/* empty css                *//* empty css                  */const $=()=>s.get({url:"/mock/request/1"}),z=()=>s.get({url:"/mock/request/2"}),K=()=>s.get({url:"/mock/request/3"}),L=()=>s.get({url:"/mock/request/4"}),O=()=>s.get({url:"/mock/request/5"}),Q=()=>s.get({url:"/mock/request/expired"}),W=D({__name:"Request",setup(k){const e=E(new Set),q=()=>i(this,null,function*(){if(!e.value.has("/request/1"))try{e.value.add("/request/1");const r=yield $()}catch(r){}finally{e.value.delete("/request/1")}}),y=()=>i(this,null,function*(){if(!e.value.has("/request/2"))try{e.value.add("/request/2");const r=yield z()}catch(r){}finally{e.value.delete("/request/2")}}),d=()=>i(this,null,function*(){if(!e.value.has("/request/3"))try{e.value.add("/request/3");const r=yield K()}catch(r){}finally{e.value.delete("/request/3")}}),m=()=>i(this,null,function*(){if(!e.value.has("/request/4"))try{e.value.add("/request/4");const r=yield L()}catch(r){}finally{e.value.delete("/request/4")}}),v=()=>i(this,null,function*(){if(!e.value.has("/request/5"))try{e.value.add("/request/5");const r=yield O()}catch(r){}finally{e.value.delete("/request/5")}}),p=()=>{q(),y(),d(),m(),v()},a=()=>{s.cancelAllRequest(),e.value.clear()},f=r=>{const t=[];return r.forEach(A=>{t.push(A)}),t},g=()=>{if(e.value.has("/request/1")){s.cancelRequest("/request/1"),e.value.delete("/request/1");return}q()},R=()=>{if(e.value.has("/request/2")){s.cancelRequest("/request/2"),e.value.delete("/request/2");return}y()},C=()=>{if(e.value.has("/request/3")){s.cancelRequest("/request/3"),e.value.delete("/request/3");return}d()},w=()=>{if(e.value.has("/request/4")){s.cancelRequest("/request/4"),e.value.delete("/request/4");return}m()},x=()=>{if(e.value.has("/request/5")){s.cancelRequest("/request/5"),e.value.delete("/request/5");return}v()},_=()=>{Q()};return(r,t)=>(N(),V(u(h),{title:"请求"},{default:l(()=>[S("p",null,"正在请求的接口："+T(f(e.value)),1),n(u(o),{type:"primary",onClick:g},{default:l(()=>t[0]||(t[0]=[c("请求/取消request1")])),_:1}),n(u(o),{type:"primary",onClick:R},{default:l(()=>t[1]||(t[1]=[c("请求/取消request2")])),_:1}),n(u(o),{type:"primary",onClick:C},{default:l(()=>t[2]||(t[2]=[c("请求/取消request3")])),_:1}),n(u(o),{type:"primary",onClick:w},{default:l(()=>t[3]||(t[3]=[c("请求/取消request4")])),_:1}),n(u(o),{type:"primary",onClick:x},{default:l(()=>t[4]||(t[4]=[c("请求/取消request5")])),_:1}),n(u(o),{type:"primary",onClick:p},{default:l(()=>t[5]||(t[5]=[c("发送五个请求")])),_:1}),n(u(o),{type:"primary",onClick:a},{default:l(()=>t[6]||(t[6]=[c("关闭所有请求")])),_:1}),n(u(B)),n(u(o),{type:"primary",onClick:_},{default:l(()=>t[7]||(t[7]=[c("token过期")])),_:1})]),_:1}))}});export{W as default};
