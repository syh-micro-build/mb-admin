var G=Object.defineProperty;var X=Object.getOwnPropertySymbols;var j=Object.prototype.hasOwnProperty,N=Object.prototype.propertyIsEnumerable;var Y=(c,n,i)=>n in c?G(c,n,{enumerable:!0,configurable:!0,writable:!0,value:i}):c[n]=i,E=(c,n)=>{for(var i in n||(n={}))j.call(n,i)&&Y(c,i,n[i]);if(X)for(var i of X(n))N.call(n,i)&&Y(c,i,n[i]);return c};var L=(c,n,i)=>new Promise((b,w)=>{var m=o=>{try{z(i.next(o))}catch(g){w(g)}},x=o=>{try{z(i.throw(o))}catch(g){w(g)}},z=o=>o.done?b(o.value):Promise.resolve(o.value).then(m,x);z((i=i.apply(c,n)).next())});import{_ as F}from"./ContentWrap.vue_vue_type_script_setup_true_lang-D4VMl2Vu.js";import{_ as S}from"./Dialog.vue_vue_type_style_index_0_lang-YAsVS9Vv.js";import{p as W}from"./index-iM8Esmx4.js";import{r as k,y as I,F as D,G as J,c as K,u as r,o as Q,T as Z,z as U,A as q,O as a,a6 as _,L as l,B,C as ee,g as te,W as ie,a4 as y,I as oe}from"./vue-chunks-DjkM_pWB.js";import{_ as $}from"./Button.vue_vue_type_script_setup_true_lang-BdNlEgN-.js";import{F as T}from"./Form-3eNSK7zD.js";import{u as ne}from"./useValidator-Nt61Jv1p.js";import{g as se}from"./index-CDpKcuRs.js";import{u as le}from"./useForm-LwCEfFxk.js";import{_ as A}from"./Echart.vue_vue_type_script_setup_true_lang-DaKnkRxT.js";import"./Icon-Bt-p40WI.js";import"./element-plus-ByljZuZM.js";/* empty css                *//* empty css                  *//* empty css                     *//* empty css               *//* empty css               *//* empty css                    */import"./el-radio-button-Di12BPIZ.js";/* empty css                        *//* empty css                  *//* empty css                   *//* empty css                *//* empty css                    */import"./InputPassword-DGe-gZbP.js";import"./style.css_vue_type_style_index_0_src_true_lang-j6jhpb28.js";import"./wang-editor-Osncebl8.js";import"./JsonEditor.vue_vue_type_script_setup_true_lang-eFk-2lHW.js";import"./IconPicker-CR1Su38N.js";/* empty css                      */import"./Echart.vue_vue_type_script_setup_true_lang-B7nckJvq.js";import"./echarts-DNv_PrpY.js";const re=c=>{const{minHeightPx:n=400,minWidthPx:i=window.innerWidth/2,initHeight:b=400,initWidth:w=window.innerWidth/2}=c||{},m=k(b+"px"),x=k(w+"px");return{setupDrag:(o,g)=>{let M=!1,t="";const e=V=>{const H=o.getBoundingClientRect(),v=V.clientX-H.left,d=V.clientY-H.top,h=o.clientWidth,R=o.clientHeight,C=window.getComputedStyle(o),u=parseFloat(C.paddingLeft),p=parseFloat(C.paddingRight),f=parseFloat(C.paddingBottom),P=parseFloat(C.paddingTop);M||(v<u&&d>P&&d<R-f?(o.style.cursor="ew-resize",t="left"):v>h-p&&d>P&&d<R-f?(o.style.cursor="ew-resize",t="right"):d<P&&v>u&&v<h-p?(o.style.cursor="ns-resize",t="top"):d>R-f&&v>u&&v<h-p?(o.style.cursor="ns-resize",t="bottom"):v<u&&d<P?(o.style.cursor="nwse-resize",t="top-left"):v>h-p&&d<P?(o.style.cursor="nesw-resize",t="top-right"):v<u&&d>R-f?(o.style.cursor="nesw-resize",t="bottom-left"):v>h-p&&d>R-f?(o.style.cursor="nwse-resize",t="bottom-right"):(o.style.cursor="default",t=""))},s=V=>{if(t){M=!0;const H=V.clientX,v=V.clientY,d=o.clientWidth,h=g.querySelector(".el-dialog__body").clientHeight,R=u=>{if(!M)return;let p=d,f=h;t.includes("right")&&(p=Math.max(i,d+(u.clientX-H)*2),x.value=`${p}px`),t.includes("left")&&(p=Math.max(i,d-(u.clientX-H)*2),x.value=`${p}px`),t.includes("bottom")&&(f=Math.max(n,h+(u.clientY-v)*2-20),m.value=`${Math.min(f,window.innerHeight-165)}px`),t.includes("top")&&(f=Math.max(n,h-(u.clientY-v)*2-20),m.value=`${Math.min(f,window.innerHeight-165)}px`),t==="top-left"&&(p=Math.max(i,d-(u.clientX-H)*2),x.value=`${p}px`,f=Math.max(n,h-(u.clientY-v)*2-20),m.value=`${Math.min(f,window.innerHeight-165)}px`),t==="top-right"&&(p=Math.max(i,d+(u.clientX-H)*2),x.value=`${p}px`,f=Math.max(n,h-(u.clientY-v)*2-20),m.value=`${Math.min(f,window.innerHeight-165)}px`),t==="bottom-left"&&(p=Math.max(i,d-(u.clientX-H)*2),x.value=`${p}px`,f=Math.max(n,h+(u.clientY-v)*2-20),m.value=`${Math.min(f,window.innerHeight-165)}px`),t==="bottom-right"&&(p=Math.max(i,d+(u.clientX-H)*2),x.value=`${p}px`,f=Math.max(n,h+(u.clientY-v)*2-20),m.value=`${Math.min(f,window.innerHeight-165)}px`)},C=()=>{M=!1,document.removeEventListener("mousemove",R),document.removeEventListener("mouseup",C)};document.addEventListener("mousemove",R),document.addEventListener("mouseup",C)}};o.addEventListener("mousemove",e),o.addEventListener("mousedown",s)},maxHeight:m,minWidth:x}},O=I({__name:"ResizeDialog",props:{modelValue:W.bool.def(!1),title:W.string.def("Dialog"),fullscreen:W.bool.def(!0),initWidth:W.number.def(window.innerWidth/2),initHeight:W.number.def(200),minResizeWidth:W.number.def(window.innerWidth/2),minResizeHeight:W.number.def(200)},setup(c){const n=c,{maxHeight:i,minWidth:b,setupDrag:w}=re({minHeightPx:n.minResizeHeight,minWidthPx:n.minResizeWidth,initHeight:n.initHeight,initWidth:n.initWidth}),m={mounted(t){new MutationObserver(()=>{const s=t.querySelector(".el-dialog");s&&w(s,t)}).observe(t,{childList:!0,subtree:!0})}},x=D(),z=J(),o=K(()=>{const t=["maxHeight","width"],e=Object.assign({},E(E({},r(x)),n));for(const s in e)t.indexOf(s)!==-1&&delete e[s];return e}),g=te(),M=()=>{var e,s,V;const t=(s=(e=g==null?void 0:g.appContext)==null?void 0:e.app._context)==null?void 0:s.directives;(!t||!t.resize)&&((V=g==null?void 0:g.appContext)==null||V.app.directive("resize",m))};return Q(()=>{M()}),(t,e)=>Z((U(),q("div",null,[a(S,ee(o.value,{maxHeight:r(i),width:r(b)}),_({default:l(()=>[B(t.$slots,"default")]),_:2},[r(z).footer?{name:"footer",fn:l(()=>[B(t.$slots,"footer")]),key:"0"}:void 0]),1040,["maxHeight","width"])])),[[m]])}}),Oe=I({__name:"Dialog",setup(c){const{required:n}=ne(),i=k(!1),b=k(!1),w=k(!1),m=k(!1),{formRegister:x,formMethods:z}=le(),{getElFormExpose:o}=z,g=ie([{field:"field1",label:"输入框",component:"Input",formItemProps:{rules:[n()]}},{field:"field2",label:"选择器",component:"Select",optionApi:()=>L(this,null,function*(){return(yield se()).data})},{field:"field3",label:"单选框",component:"RadioGroup",componentProps:{options:[{label:"option-1",value:"1"},{label:"option-2",value:"2"}]}},{field:"field4",label:"多选框",component:"CheckboxGroup",value:[],componentProps:{options:[{label:"option-1",value:"1"},{label:"option-2",value:"2"}]}},{field:"field5",component:"DatePicker",label:"日期选择器",componentProps:{type:"date"}},{field:"field6",component:"TimeSelect",label:"时间选择"}]),M=()=>L(this,null,function*(){const t=yield o();t==null||t.validate(e=>{})});return(t,e)=>(U(),q(oe,null,[a(r(F),{title:"弹窗",message:"基于 ElementPlus 的 Dialog 组件二次封装"},{default:l(()=>[a(r($),{type:"primary",onClick:e[0]||(e[0]=s=>i.value=!i.value)},{default:l(()=>e[12]||(e[12]=[y(" 打开 ")])),_:1}),a(r($),{type:"primary",onClick:e[1]||(e[1]=s=>b.value=!b.value)},{default:l(()=>e[13]||(e[13]=[y(" 与表单结合 ")])),_:1}),a(r(S),{modelValue:i.value,"onUpdate:modelValue":e[3]||(e[3]=s=>i.value=s),title:"弹窗"},{footer:l(()=>[a(r($),{onClick:e[2]||(e[2]=s=>i.value=!1)},{default:l(()=>e[14]||(e[14]=[y("关闭")])),_:1})]),default:l(()=>[a(A)]),_:1},8,["modelValue"]),a(r(S),{modelValue:b.value,"onUpdate:modelValue":e[5]||(e[5]=s=>b.value=s),title:"弹窗"},{footer:l(()=>[a(r($),{type:"primary",onClick:M},{default:l(()=>e[15]||(e[15]=[y("提交")])),_:1}),a(r($),{onClick:e[4]||(e[4]=s=>b.value=!1)},{default:l(()=>e[16]||(e[16]=[y("关闭")])),_:1})]),default:l(()=>[a(r(T),{schema:g,onRegister:r(x)},null,8,["schema","onRegister"])]),_:1},8,["modelValue"])]),_:1}),a(r(F),{class:"mt-10px",title:"可自定义调节弹窗大小的弹窗",message:"基于 ElementPlus 的 Dialog 组件二次封装"},{default:l(()=>[a(r($),{type:"primary",onClick:e[6]||(e[6]=s=>w.value=!w.value)},{default:l(()=>e[17]||(e[17]=[y(" 打开 ")])),_:1}),a(r($),{type:"primary",onClick:e[7]||(e[7]=s=>m.value=!m.value)},{default:l(()=>e[18]||(e[18]=[y(" 与表单结合 ")])),_:1}),a(O,{modelValue:w.value,"onUpdate:modelValue":e[9]||(e[9]=s=>w.value=s),title:"弹窗"},{footer:l(()=>[a(r($),{onClick:e[8]||(e[8]=s=>w.value=!1)},{default:l(()=>e[19]||(e[19]=[y("关闭")])),_:1})]),default:l(()=>[a(A)]),_:1},8,["modelValue"]),a(O,{modelValue:m.value,"onUpdate:modelValue":e[11]||(e[11]=s=>m.value=s),title:"弹窗"},{footer:l(()=>[a(r($),{type:"primary",onClick:M},{default:l(()=>e[20]||(e[20]=[y("提交")])),_:1}),a(r($),{onClick:e[10]||(e[10]=s=>m.value=!1)},{default:l(()=>e[21]||(e[21]=[y("关闭")])),_:1})]),default:l(()=>[a(r(T),{schema:g,onRegister:r(x)},null,8,["schema","onRegister"])]),_:1},8,["modelValue"])]),_:1})],64))}});export{Oe as default};
