var p=(s,n,e)=>new Promise((i,c)=>{var m=t=>{try{r(e.next(t))}catch(o){c(o)}},u=t=>{try{r(e.throw(t))}catch(o){c(o)}},r=t=>t.done?i(t.value):Promise.resolve(t.value).then(m,u);r((e=e.apply(s,n)).next())});import{F as w}from"./Form-Dy_gLv99.js";import{u as g}from"./useForm-BhsXz_j6.js";import{u as y}from"./useValidator-Nt61Jv1p.js";import{y as _,W as v,w as x,z as F,K as R,u as f}from"./vue-chunks-DjkM_pWB.js";const S=_({__name:"Write",props:{currentRow:{type:Object,default:()=>null},formSchema:{type:Array,default:()=>[]}},setup(s,{expose:n}){const{required:e}=y(),i=s,c=v({title:[e()],author:[e()],importance:[e()],pageviews:[e()],display_time:[e()],content:[e()]}),{formRegister:m,formMethods:u}=g(),{setValues:r,getFormData:t,getElFormExpose:o}=u,l=()=>p(this,null,function*(){const a=yield o();if(yield a==null?void 0:a.validate().catch(h=>{}))return yield t()});return x(()=>i.currentRow,a=>{a&&r(a)},{deep:!0,immediate:!0}),n({submit:l}),(a,d)=>(F(),R(f(w),{rules:c,onRegister:f(m),schema:s.formSchema},null,8,["rules","onRegister","schema"]))}});export{S as _};
