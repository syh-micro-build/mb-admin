var g=(y,v,p)=>new Promise((m,c)=>{var C=r=>{try{d(p.next(r))}catch(u){c(u)}},_=r=>{try{d(p.throw(r))}catch(u){c(u)}},d=r=>r.done?m(r.value):Promise.resolve(r.value).then(C,_);d((p=p.apply(y,v)).next())});import{_ as z}from"./ContentWrap.vue_vue_type_script_setup_true_lang-C-Nt72zD.js";import{_ as J}from"./Table.vue_vue_type_script_lang-UebeM_Ko.js";import"./index-UC-vmT_-.js";/* empty css                        *//* empty css                    *//* empty css                  */import{g as j}from"./index-DcXdIBgJ.js";/* empty css               */import{u as G}from"./useTable-BbOx68Xw.js";import{_ as i}from"./Button.vue_vue_type_script_setup_true_lang-xQohR7RO.js";import{C as K}from"./element-plus-Dmwbteg1.js";import{q as Q,J as V,o as W,O as l,V as n,r as f,t as X,v as Y,R as s,u as e,i as E,P as Z}from"./vue-chunks-CrLAACUV.js";import{_ as ee}from"./Icon-Op2YIgVw.js";/* empty css                *//* empty css                      *//* empty css                  *//* empty css                        */import"./el-radio-button-CgG6RJVg.js";/* empty css                         *//* empty css                  */import"./index-ChmEy0oH.js";const te=Q({__name:"UseTableDemo",setup(y){const{tableRegister:v,tableMethods:p,tableState:m}=G({fetchDataApi:()=>g(this,null,function*(){const{currentPage:o,pageSize:t}=m,a=yield j({pageIndex:e(o),pageSize:e(t)});return{list:a.data.list,total:a.data.total}})}),{loading:c,dataList:C,total:_,currentPage:d,pageSize:r}=m,{setProps:u,setColumn:b,getElTableExpose:S,addColumn:U,delColumn:D,refresh:I}=p,O=V([]);W(()=>{setTimeout(()=>{u({columns:[{field:"expand",type:"expand",slots:{default:o=>{const{row:t}=o;return l("div",{class:"ml-30px"},[l("div",null,[n("标题："),t.title]),l("div",null,[n("作者："),t.author]),l("div",null,[n("创建时间："),t.display_time])])}}},{field:"selection",type:"selection"},{field:"index",label:"序号",type:"index"},{field:"title",label:"标题"},{field:"author",label:"作者"},{field:"display_time",label:"创建时间"},{field:"importance",label:"重要性",formatter:(o,t,a)=>l(K,{type:a===1?"success":a===2?"warning":"danger"},{default:()=>[a===1?"重要":a===2?"良好":"一般"]})},{field:"pageviews",label:"阅读数"},{field:"action",label:"操作",slots:{default:o=>l(i,{type:"primary",onClick:()=>F(o)},{default:()=>[n("操作")]})}}]})},2e3)});const F=o=>{},A=f(!0),$=o=>{A.value=o},h=o=>{u({reserveIndex:o})},P=o=>{b([{field:"selection",path:"hidden",value:!o}])},T=f(1),B=()=>{b([{field:"title",path:"label",value:`标题${e(T)}`}]),T.value++},R=o=>{b([{field:"expand",path:"hidden",value:!o}])},N=()=>g(this,null,function*(){const o=yield S();o==null||o.toggleAllSelection()}),x=f(!0),H=()=>{e(x)?(D("action"),x.value=!1):(U({field:"action",label:"操作",slots:{default:o=>l(i,{type:"primary",onClick:()=>F(o)},{default:()=>[n("操作")]})}}),x.value=!0)},k=f(!1),L=()=>{u({stripe:!e(k)}),k.value=!e(k)},w=f("auto"),M=()=>{e(w)==="auto"?(u({height:300}),w.value=300):(u({height:"auto"}),w.value="auto")},q=()=>g(this,null,function*(){const o=yield S(),t=o==null?void 0:o.getSelectionRows()});return(o,t)=>(X(),Y(Z,null,[l(e(z),{title:"UseTable 操作",style:{"margin-bottom":"20px"}},{default:s(()=>[l(e(i),{onClick:t[0]||(t[0]=a=>$(!0))},{default:s(()=>[n(" 显示 分页 ")]),_:1}),l(e(i),{onClick:t[1]||(t[1]=a=>$(!1))},{default:s(()=>[n(" 隐藏 分页 ")]),_:1}),l(e(i),{onClick:t[2]||(t[2]=a=>h(!0))},{default:s(()=>[n("叠加序号")]),_:1}),l(e(i),{onClick:t[3]||(t[3]=a=>h(!1))},{default:s(()=>[n("还原序号")]),_:1}),l(e(i),{onClick:t[4]||(t[4]=a=>P(!0))},{default:s(()=>[n("显示多选")]),_:1}),l(e(i),{onClick:t[5]||(t[5]=a=>P(!1))},{default:s(()=>[n("隐藏多选")]),_:1}),l(e(i),{onClick:B},{default:s(()=>[n("修改标题")]),_:1}),l(e(i),{onClick:t[6]||(t[6]=a=>R(!0))},{default:s(()=>[n("显示展开行")]),_:1}),l(e(i),{onClick:t[7]||(t[7]=a=>R(!1))},{default:s(()=>[n("隐藏展开行")]),_:1}),l(e(i),{onClick:N},{default:s(()=>[n("全选/全不选")]),_:1}),l(e(i),{onClick:H},{default:s(()=>[n("删除/添加操作列")]),_:1}),l(e(i),{onClick:L},{default:s(()=>[n("显示/隐藏斑马纹")]),_:1}),l(e(i),{onClick:M},{default:s(()=>[n("固定头部/自动")]),_:1}),l(e(i),{onClick:q},{default:s(()=>[n("获取多选数据")]),_:1})]),_:1}),l(e(z),{title:"UseTable 示例"},{default:s(()=>[l(e(J),{pageSize:e(r),"onUpdate:pageSize":t[8]||(t[8]=a=>E(r)?r.value=a:null),currentPage:e(d),"onUpdate:currentPage":t[9]||(t[9]=a=>E(d)?d.value=a:null),showAction:"",showSummary:"","default-expand-all":"",columns:O,"row-key":"id",data:e(C),loading:e(c),pagination:A.value?{total:e(_)}:void 0,onRegister:e(v),onRefresh:e(I)},null,8,["pageSize","currentPage","columns","data","loading","pagination","onRegister","onRefresh"])]),_:1})],64))}}),Se=ee(te,[["__scopeId","data-v-9eb76fdb"]]);export{Se as default};
