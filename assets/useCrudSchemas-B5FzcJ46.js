var d=Object.defineProperty,S=Object.defineProperties;var b=Object.getOwnPropertyDescriptors;var f=Object.getOwnPropertySymbols;var p=Object.prototype.hasOwnProperty,m=Object.prototype.propertyIsEnumerable;var h=(t,l,e)=>l in t?d(t,l,{enumerable:!0,configurable:!0,writable:!0,value:e}):t[l]=e,c=(t,l)=>{for(var e in l||(l={}))p.call(l,e)&&h(t,e,l[e]);if(f)for(var e of f(l))m.call(l,e)&&h(t,e,l[e]);return t},a=(t,l)=>S(t,b(l));import{t as u,f as C,e as g}from"./tree-Dgaev6Pi.js";import{K as v}from"./vue-chunks-DOWhatC1.js";const k=t=>{const l=v({searchSchema:[],tableColumns:[],formSchema:[],detailSchema:[]}),e=T(t);l.searchSchema=e||[];const o=x(t);l.tableColumns=o||[];const i=D(t);l.formSchema=i;const r=F(t);return l.detailSchema=r,{allSchemas:l}},T=t=>{var o,i;const l=[],e=t.length;for(let r=0;r<e;r++){const n=t[r],s=a(c({component:((o=n==null?void 0:n.search)==null?void 0:o.component)||"Input"},n.search),{field:n.field,label:((i=n.search)==null?void 0:i.label)||n.label});l.push(s)}return l},x=t=>{const l=u(t,{conversion:e=>{var o;if(!((o=e==null?void 0:e.table)!=null&&o.hidden))return c(c({},e),e.table)}});return C(l,e=>(e.children===void 0&&delete e.children,!!e.field))},D=t=>{var o,i;const l=[],e=t.length;for(let r=0;r<e;r++){const n=t[r],s=a(c({component:((o=n==null?void 0:n.form)==null?void 0:o.component)||"Input"},n.form),{field:n.field,label:((i=n.form)==null?void 0:i.label)||n.label});l.push(s)}return l},F=t=>{const l=[];return g(t,e=>{var o,i;if(!((o=e==null?void 0:e.detail)!=null&&o.hidden)){const r=a(c({},e.detail),{field:e.field,label:((i=e.detail)==null?void 0:i.label)||e.label});delete r.hidden,l.push(r)}}),l};export{k as u};
