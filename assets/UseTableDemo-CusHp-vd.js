var v=(A,C,p)=>new Promise((m,g)=>{var b=r=>{try{d(p.next(r))}catch(u){g(u)}},x=r=>{try{d(p.throw(r))}catch(u){g(u)}},d=r=>r.done?m(r.value):Promise.resolve(r.value).then(b,x);d((p=p.apply(A,C)).next())});import{_ as D}from"./ContentWrap.vue_vue_type_script_setup_true_lang-DNedpboN.js";import{_ as J}from"./Table.vue_vue_type_script_lang-EJb7mrMz.js";import"./index-CcKVYvfA.js";/* empty css                        *//* empty css                    *//* empty css                  */import{g as K}from"./index-BHmBWei2.js";/* empty css               */import{u as Q}from"./useTable-CXU-4Wun.js";import{_ as s}from"./Button.vue_vue_type_script_setup_true_lang-DexuxMkQ.js";import{C as X}from"./element-plus-CUBv5pjL.js";import{y as Y,W as Z,o as V,O as l,a4 as i,r as f,z as c,A as _,L as a,u as e,l as I,I as h}from"./vue-chunks-ChjHxF1G.js";import{_ as tt}from"./Icon-DNmxEO0M.js";/* empty css                *//* empty css                      *//* empty css                  *//* empty css                        */import"./el-radio-button-D8cXfk2F.js";/* empty css                         *//* empty css                  */import"./index-IEc1XgPL.js";const et=Y({__name:"UseTableDemo",setup(A){const{tableRegister:C,tableMethods:p,tableState:m}=Q({fetchDataApi:()=>v(this,null,function*(){const{currentPage:o,pageSize:t}=m,n=yield K({pageIndex:e(o),pageSize:e(t)});return{list:n.data.list,total:n.data.total}})}),{loading:g,dataList:b,total:x,currentPage:d,pageSize:r}=m,{setProps:u,setColumn:k,getElTableExpose:F,addColumn:O,delColumn:B,refresh:L}=p,N=Z([]);V(()=>{setTimeout(()=>{u({columns:[{field:"expand",type:"expand",slots:{default:o=>{const{row:t}=o;return l("div",{class:"ml-30px"},[l("div",null,[i("标题："),t.title]),l("div",null,[i("作者："),t.author]),l("div",null,[i("创建时间："),t.display_time])])}}},{field:"selection",type:"selection"},{field:"index",label:"序号",type:"index"},{field:"title",label:"标题"},{field:"author",label:"作者"},{field:"display_time",label:"创建时间"},{field:"importance",label:"重要性",formatter:(o,t,n)=>l(X,{type:n===1?"success":n===2?"warning":"danger"},{default:()=>[n===1?"重要":n===2?"良好":"一般"]})},{field:"pageviews",label:"阅读数"},{field:"action",label:"操作",slots:{default:o=>l(s,{type:"primary",onClick:()=>$(o)},{default:()=>[i("操作")]})}}]})},2e3)});const $=o=>{},T=f(!0),P=o=>{T.value=o},z=o=>{u({reserveIndex:o})},E=o=>{k([{field:"selection",path:"hidden",value:!o}])},R=f(1),H=()=>{k([{field:"title",path:"label",value:`标题${e(R)}`}]),R.value++},U=o=>{k([{field:"expand",path:"hidden",value:!o}])},M=()=>v(this,null,function*(){const o=yield F();o==null||o.toggleAllSelection()}),w=f(!0),W=()=>{e(w)?(B("action"),w.value=!1):(O({field:"action",label:"操作",slots:{default:o=>l(s,{type:"primary",onClick:()=>$(o)},{default:()=>[i("操作")]})}}),w.value=!0)},y=f(!1),j=()=>{u({stripe:!e(y)}),y.value=!e(y)},S=f("auto"),q=()=>{e(S)==="auto"?(u({height:300}),S.value=300):(u({height:"auto"}),S.value="auto")},G=()=>v(this,null,function*(){const o=yield F(),t=o==null?void 0:o.getSelectionRows()});return(o,t)=>(c(),_(h,null,[l(e(D),{title:"UseTable 操作",style:{"margin-bottom":"20px"}},{default:a(()=>[l(e(s),{onClick:t[0]||(t[0]=n=>P(!0))},{default:a(()=>t[10]||(t[10]=[i(" 显示 分页 ")])),_:1}),l(e(s),{onClick:t[1]||(t[1]=n=>P(!1))},{default:a(()=>t[11]||(t[11]=[i(" 隐藏 分页 ")])),_:1}),l(e(s),{onClick:t[2]||(t[2]=n=>z(!0))},{default:a(()=>t[12]||(t[12]=[i("叠加序号")])),_:1}),l(e(s),{onClick:t[3]||(t[3]=n=>z(!1))},{default:a(()=>t[13]||(t[13]=[i("还原序号")])),_:1}),l(e(s),{onClick:t[4]||(t[4]=n=>E(!0))},{default:a(()=>t[14]||(t[14]=[i("显示多选")])),_:1}),l(e(s),{onClick:t[5]||(t[5]=n=>E(!1))},{default:a(()=>t[15]||(t[15]=[i("隐藏多选")])),_:1}),l(e(s),{onClick:H},{default:a(()=>t[16]||(t[16]=[i("修改标题")])),_:1}),l(e(s),{onClick:t[6]||(t[6]=n=>U(!0))},{default:a(()=>t[17]||(t[17]=[i("显示展开行")])),_:1}),l(e(s),{onClick:t[7]||(t[7]=n=>U(!1))},{default:a(()=>t[18]||(t[18]=[i("隐藏展开行")])),_:1}),l(e(s),{onClick:M},{default:a(()=>t[19]||(t[19]=[i("全选/全不选")])),_:1}),l(e(s),{onClick:W},{default:a(()=>t[20]||(t[20]=[i("删除/添加操作列")])),_:1}),l(e(s),{onClick:j},{default:a(()=>t[21]||(t[21]=[i("显示/隐藏斑马纹")])),_:1}),l(e(s),{onClick:q},{default:a(()=>t[22]||(t[22]=[i("固定头部/自动")])),_:1}),l(e(s),{onClick:G},{default:a(()=>t[23]||(t[23]=[i("获取多选数据")])),_:1})]),_:1}),l(e(D),{title:"UseTable 示例"},{default:a(()=>[l(e(J),{pageSize:e(r),"onUpdate:pageSize":t[8]||(t[8]=n=>I(r)?r.value=n:null),currentPage:e(d),"onUpdate:currentPage":t[9]||(t[9]=n=>I(d)?d.value=n:null),showAction:"",showSummary:"","default-expand-all":"",columns:N,"row-key":"id",data:e(b),loading:e(g),pagination:T.value?{total:e(x)}:void 0,onRegister:e(C),onRefresh:e(L)},null,8,["pageSize","currentPage","columns","data","loading","pagination","onRegister","onRefresh"])]),_:1})],64))}}),Ft=tt(et,[["__scopeId","data-v-9eb76fdb"]]);export{Ft as default};
